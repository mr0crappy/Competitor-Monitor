<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Competitor Monitor Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Main CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

  <!-- Mobile header -->
  <header class="topbar">
    <button id="menuToggle" class="hamburger" aria-label="Toggle navigation">â˜°</button>
    <h1 class="topbar-title">Competitor Monitor</h1>
  </header>

  <!-- Sidebar Nav -->
  <nav id="sidebar" class="sidebar">
    <ul>
      <li><a href="#" class="nav-link active" data-section="dashboard">Dashboard</a></li>
      <li><a href="#" class="nav-link" data-section="competitors">Competitors</a></li>
      <li><a href="#" class="nav-link" data-section="changes">Change History</a></li>
      <li><a href="#" class="nav-link" data-section="analytics">Analytics</a></li>
      <li><a href="#" class="nav-link" data-section="settings">Settings</a></li>
    </ul>
  </nav>

  <!-- Main Content Wrapper -->
  <main class="content">
    <h2 id="sectionTitle" class="section-title">Dashboard</h2>

    <!-- DASHBOARD SECTION -->
    <section id="dashboard-section" class="content-section active">
      <div class="cards-grid">
        <div class="stat-card">
          <div class="stat-label">Total Competitors</div>
          <div id="totalCompetitors" class="stat-value">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Recent Changes (7d)</div>
          <div id="recentChanges" class="stat-value">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Last Update</div>
          <div id="lastUpdate" class="stat-value">--</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">System Status</div>
          <div id="systemStatus" class="stat-value">--</div>
        </div>
      </div>

      <div class="actions">
        <button id="runMonitorBtn" class="primary-btn">Run Monitor Now</button>
      </div>
    </section>

    <!-- COMPETITORS SECTION -->
    <section id="competitors-section" class="content-section">
      <h3>Competitors</h3>
      <div id="competitorsList" class="list-block">
        <!-- JS will populate -->
      </div>
    </section>

    <!-- CHANGES SECTION -->
    <section id="changes-section" class="content-section">
      <h3>Change History</h3>
      <div id="changesTable" class="list-block">
        <!-- JS will populate -->
      </div>
    </section>

    <!-- ANALYTICS SECTION -->
    <section id="analytics-section" class="content-section">
      <h3>Analytics & Insights</h3>
      <div id="analyticsContent" class="list-block">
        <!-- future graphs -->
      </div>
    </section>

    <!-- SETTINGS SECTION -->
    <section id="settings-section" class="content-section">
      <h3>Settings</h3>
      <p>Environment: {{ config_name if config_name is defined else 'Production' }}</p>
      <p>Slack Webhook Configured: {{ 'Yes' if slack_enabled else 'No' }}</p>
    </section>
  </main>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay" style="display:none;">
    <div class="spinner"></div>
    <p>Running monitor...</p>
  </div>

  <!-- Main JS -->
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
